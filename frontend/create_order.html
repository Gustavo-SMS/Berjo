<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criar pedido</title>

    <link rel="stylesheet" href="style/global.css">
    <link rel="stylesheet" href="style/create_order.css">
</head>

<body>

    <div class="container">
        <div class="box">

            <form action="" class="form">
                <!--Cliente-->
                <div class="row">
                    <label for="quantity">Quantidade</label>
                    <input type="number" name="quantity" id="quantity" class="tiny">

                    <label for="type">Tipo</label>
                    <input type="text" name="type" id="type">

                    <label for="color">Cor</label>
                    <input type="text" name="color" id="color">

                    <label for="width">Largura</label>
                    <input type="number" step="0.01" name="width" id="width" class="tiny">

                    <label for="height">Altura</label>
                    <input type="number" step="0.01" name="height" id="height" class="tiny">

                    <label for="command_height">Altura comando</label>
                    <input type="number" step="0.01" name="command_height" id="command_height" class="tiny">

                    <label for="model">Modelo</label>
                    <input type="text" name="model" id="model" class="tiny">
                </div>

                <!-- <div class="row">
                    <label for="quantity">Quantidade</label>
                    <input type="number" name="quantity" id="quantity" class="tiny">
            
                    <label for="type">Tipo</label>
                    <input type="text" name="type" id="type">
            
                    <label for="color">Cor</label>
                    <input type="text" name="color" id="color">
            
                    <label for="width">Largura</label>
                    <input type="number" name="width" id="width" class="tiny">
            
                    <label for="height">Altura</label>
                    <input type="number" name="height" id="height" class="tiny">
            
                    <label for="comHeight">Altura comando</label>
                    <input type="number" name="comHeight" id="comHeight" class="tiny">
            
                    <label for="model">Modelo</label>
                    <input type="text" name="model" id="model" class="tiny">
                </div> -->

                <button type="submit">Enviar</button>
            </form>
        </div>
    </div>

    <script>
        const form = document.querySelector('.form')

        fetch('http://127.0.0.1:3333/customers', {
            method: 'GET',
            headers: {
                'Content-type': 'application/json'
            }
        }).then((res) => {
            res.json().then((orders) => {
                orders.map((order) => {
                    console.log(order.id, order.name)
                })
            })
        })

        form.addEventListener('submit', event => {
            event.preventDefault()

            const formData = new FormData(form)
            const data = Object.fromEntries(formData)

            fetch('http://127.0.0.1:3333/orders', {
                method: 'POST',
                headers: {
                    'Content-type': 'application/json'
                },
                body: JSON.stringify(data)

            })
                .then(res => res.json())
                .then(data => console.log(data))
        })

    </script>

</body>

</html>